<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>🎯 Gerador de Bilhete 🎟️ Beta</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<style>
:root{
  --bg:#000;
  --panel:#111;
  --accent:#00ff88;
  --accent-2:#00cc66;
  --card:#1a1a1a;
  --muted:#bbb;
}
*{box-sizing:border-box}
body{margin:0;font-family:"Montserrat",sans-serif;background:var(--bg);color:#f2f2f2;}
header{text-align:center;padding:20px;}
h1{margin:0;color:var(--accent);font-weight:700;font-size:24px;letter-spacing:0.6px;}
.wrap{max-width:900px;margin:0 auto;padding:18px;background:var(--panel);border-radius:12px;}
.row{display:flex;gap:12px;align-items:center;flex-wrap:wrap;justify-content:space-between;}
label.small{font-size:14px;color:var(--muted);}
input[type=number]{background:#0c0c0c;border:1px solid #171717;color:#fff;padding:8px;border-radius:6px;width:80px;}
button.btn{background:var(--accent);color:#000;border:none;padding:10px 14px;border-radius:8px;font-weight:600;cursor:pointer;transition:0.2s;}
button.btn:hover{opacity:0.85;}
.actions{display:flex;gap:10px;margin-top:12px;flex-wrap:wrap;justify-content:center;}
#bilheteContainer{margin-top:16px;display:flex;flex-direction:column;align-items:center;gap:12px;}
.card{background:var(--card);border:1px solid rgba(0,255,136,0.08);padding:14px;border-radius:10px;opacity:0;transform:translateY(20px);transition:all .4s ease;}
.card.show{opacity:1;transform:none;}
.card h3{margin:0;font-size:16px;color:#fff;text-align:center;}
.stats-line{margin-top:8px;font-size:14px;color:var(--accent);text-align:center;font-weight:600;}
footer{margin-top:24px;color:#7a7a7a;font-size:13px;text-align:center;}
.sports-markets{display:none;margin-top:12px;}
.chip{background:#111;border:1px solid #222;color:#fff;padding:6px 10px;border-radius:8px;cursor:pointer;}
.chip.active{background:var(--accent);color:#000;}
#pixBtn{background:#ffcc00;color:#000;margin-top:20px;width:100%;padding:12px;border-radius:8px;font-weight:600;cursor:pointer;}
</style>
</head>
<body>

<header>
  <h1>🎯 Gerador de Bilhete 🎟️ <small style="font-size:12px;color:#aaa;">Beta</small></h1>
</header>

<div class="wrap">
  <div class="row">
    <label class="small">Quantidade de jogos</label>
    <input id="qtd" type="number" min="1" value="3">
    <label class="small">Odd mínima</label>
    <input id="minOdd" type="number" step="0.01" value="1.20">
    <label class="small">Odd máxima</label>
    <input id="maxOdd" type="number" step="0.01" value="2.50">
    <label class="small">% mínimo de acerto</label>
    <input id="minPercent" type="number" step="1" value="50">
  </div>

  <div style="margin-top:12px;">
    <button id="toggleFilters" class="btn" style="width:100%;">🎯 Mostrar/Ocultar Esportes e Mercados</button>
    <div class="sports-markets" id="filtersPanel">
      <div style="margin-top:8px;">Esportes:</div>
      <div id="sportsWrap" style="display:flex;gap:6px;flex-wrap:wrap;"></div>
      <div style="margin-top:8px;">Mercados:</div>
      <div id="marketsWrap" style="display:flex;gap:6px;flex-wrap:wrap;"></div>
    </div>
  </div>

  <div style="margin-top:12px;text-align:center;">
    <button id="generateBtn" class="btn" style="width:100%;">🎲 Gerar Bilhete</button>
  </div>

  <div class="actions">
    <button id="copiarBtn" class="btn">📋 Copiar</button>
    <button id="pdfBtn" class="btn">💾 PDF</button>
    <button id="estatBtn" class="btn">📊 Estatísticas</button>
  </div>

  <div id="bilheteContainer"></div>

  <button id="pixBtn">💛 Doação Pix</button>
</div>

<!-- Modal Estatísticas -->
<div id="estatModal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.9);z-index:1000;padding:28px;overflow:auto;">
  <div style="max-width:900px;margin:20px auto;background:#070707;padding:18px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);">
    <button id="closeEstat" style="float:right;background:var(--accent);border:none;padding:8px 10px;border-radius:8px;cursor:pointer;">Fechar</button>
    <h2 style="color:var(--accent);margin-top:0;">📊 Estatísticas do Gerador</h2>
    <div id="estatContent" style="margin-top:8px;"></div>
  </div>
</div>

<script>
// === PALPITES ===
const palpites = [
  {esporte:"Futebol",jogo:"Liverpool x Manchester United",mercado:"Dupla Chance Casa",odd:1.16,percent:79},
  {esporte:"Futebol",jogo:"Celta x Real Sociedad",mercado:"+1.5 gols",odd:1.30,percent:75},
  {esporte:"Futebol",jogo:"Celta x Real Sociedad",mercado:"+0.5 gols Casa",odd:1.20,percent:90},
  {esporte:"Futebol",jogo:"Getafe x Real Madrid",mercado:"Vitória Fora",odd:1.42,percent:62},
  {esporte:"Futebol",jogo:"Getafe x Real Madrid",mercado:"+1.5 gols Fora",odd:1.57,percent:62},
  {esporte:"Futebol",jogo:"Getafe x Real Madrid",mercado:"+0.5 gol Fora",odd:1.11,percent:62},
  {esporte:"Futebol",jogo:"Freiburg x Frankfurt",mercado:"+1.5 gols",odd:1.20,percent:62},
  {esporte:"Futebol",jogo:"St Pauli x Hoffenheim",mercado:"+1.5 gols",odd:1.25,percent:62},
  {esporte:"Futebol",jogo:"Cagliari x Bologna",mercado:"-3.5 gols",odd:1.22,percent:62},
  {esporte:"Futebol",jogo:"Cagliari x Bologna",mercado:"Dupla Chance Fora",odd:1.28,percent:62},
  {esporte:"Futebol",jogo:"Cagliari x Bologna",mercado:"+0.5 gols Fora",odd:1.28,percent:62},
  {esporte:"Futebol",jogo:"Lazio x Atalanta",mercado:"+1.5 gols",odd:1.25,percent:62},
  {esporte:"Futebol",jogo:"Milan x Fiorentina",mercado:"+1.5 gols",odd:1.28,percent:62},
  {esporte:"Futebol",jogo:"Milan x Fiorentina",mercado:"Dupla Chance Casa",odd:1.14,percent:62},
  {esporte:"Futebol",jogo:"Milan x Fiorentina",mercado:"Ambas Marcam",odd:1.95,percent:62},
  {esporte:"Futebol",jogo:"Milan x Fiorentina",mercado:"+2.5 gols",odd:1.90,percent:62},
  {esporte:"Futebol",jogo:"Lens x Paris",mercado:"+1.5 gols",odd:1.20,percent:62},
  {esporte:"Futebol",jogo:"Lens x Paris",mercado:"Ambas Marcam",odd:1.60,percent:62},
  {esporte:"Futebol",jogo:"Lens x Paris",mercado:"+0.5 gol 1T",odd:1.30,percent:62},
  {esporte:"Futebol",jogo:"Lens x Paris",mercado:"Casa ou Empate",odd:1.22,percent:62},
  {esporte:"Futebol",jogo:"Lens x Paris",mercado:"+0.5 gol Casa",odd:1.14,percent:62},
  {esporte:"Futebol",jogo:"Nantes x Lille",mercado:"0.5 gol 1T",odd:1.36,percent:62},
  {esporte:"Futebol",jogo:"Nantes x Lille",mercado:"Ambas Marcam",odd:1.75,percent:62},
  {esporte:"Futebol",jogo:"Nantes x Lille",mercado:"0.5 gol Fora",odd:1.18,percent:62},
  {esporte:"Futebol",jogo:"Nantes x Lille",mercado:"Fora ou Empate",odd:1.22,percent:62},
  {esporte:"Futebol",jogo:"Nantes x Lille",mercado:"+1.5 gols",odd:1.28,percent:62},
  {esporte:"Futebol",jogo:"Nantes x Lille",mercado:"+2.5 gols",odd:1.90,percent:62},
  {esporte:"Futebol",jogo:"San Martin SJ x Independiente",mercado:"-3.5 gols",odd:1.11,percent:62},
  {esporte:"Futebol",jogo:"San Martin SJ x Independiente",mercado:"-1.5 gol 1T",odd:1.20,percent:62},
  {esporte:"Futebol",jogo:"San Martin SJ x Independiente",mercado:"-0.5 gol 1T",odd:2.10,percent:62},
  {esporte:"Futebol",jogo:"Empoli x Venezia",mercado:"-3.5 gols",odd:1.22,percent:62},
  {esporte:"Futebol",jogo:"Empoli x Venezia",mercado:"-1.5 gols 1T",odd:1.33,percent:62},
  {esporte:"Futebol",jogo:"Rosario Central x Platense",mercado:"-3.5 gols",odd:1.14,percent:62},
  {esporte:"Futebol",jogo:"Rosario Central x Platense",mercado:"Casa ou Empate",odd:1.11,percent:62},
  {esporte:"Futebol",jogo:"Rosario Central x Platense",mercado:"Vitória Casa",odd:1.72,percent:62},
  {esporte:"Futebol",jogo:"Botafogo SP x Cuiabá",mercado:"+0.5 gols Fora",odd:1.38,percent:62},
  {esporte:"Futebol",jogo:"Botafogo SP x Cuiabá",mercado:"-3.5 gols",odd:1.18,percent:62},
  {esporte:"Futebol",jogo:"Lech Poznan x Pogon Szczecin",mercado:"Casa ou Empate",odd:1.22,percent:62},
  {esporte:"Futebol",jogo:"Lech Poznan x Pogon Szczecin",mercado:"+1.5 gols",odd:1.14,percent:62},
  {esporte:"Futebol",jogo:"Lech Poznan x Pogon Szczecin",mercado:"Ambas Marcam",odd:1.50,percent:62},
  {esporte:"Futebol",jogo:"Lech Poznan x Pogon Szczecin",mercado:"Vitória Casa",odd:1.72,percent:62},
  {esporte:"Futebol",jogo:"Bahia x Grêmio",mercado:"Casa ou Empate",odd:1.18,percent:62},
  {esporte:"Futebol",jogo:"Bahia x Grêmio",mercado:"+0.5 gol cada",odd:1.18,percent:62},
  {esporte:"Futebol",jogo:"Bahia x Grêmio",mercado:"+1.5 gols",odd:1.36,percent:62},
  {esporte:"Futebol",jogo:"Nurnberg x Holstein Kiel",mercado:"+1.5 gols",odd:1.20,percent:62},
  {esporte:"Futebol",jogo:"Tottenham x Aston Villa",mercado:"Dupla Chance Casa",odd:1.28,percent:62},
  {esporte:"Futebol",jogo:"Tottenham x Aston Villa",mercado:"Ambas Marcam",odd:1.70,percent:62},
  {esporte:"Futebol",jogo:"Tottenham x Aston Villa",mercado:"+2.5 gols",odd:1.90,percent:62},
  {esporte:"Futebol",jogo:"Tottenham x Aston Villa",mercado:"+1.5 gols",odd:1.28,percent:62},
  {esporte:"Futebol",jogo:"Liverpool x Manchester United",mercado:"Ambas Marcam",odd:1.50,percent:62},
  {esporte:"Futebol",jogo:"Liverpool x Manchester United",mercado:"Vitória Casa",odd:1.60,percent:62},
  {esporte:"Futebol",jogo:"Liverpool x Manchester United",mercado:"+0.5 gol 1T",odd:1.22,percent:62},
  {esporte:"Futebol",jogo:"Liverpool x Manchester United",mercado:"+1.5 gols",odd:1.14,percent:62},
  {esporte:"Futebol",jogo:"Liverpool x Manchester United",mercado:"+2.5 gols",odd:1.44,percent:62},
];

// === ESPORTES E MERCADOS ===
const sports=["Futebol","Basquete","Vôlei","Tênis"];
const markets=["Dupla Chance Casa","Dupla Chance Fora","Casa ou Empate","+1.5 gols","+2.5 gols","+0.5 gols 1T","Vitória Casa","Vitória Fora","Ambas Marcam","+0.5 gol cada"];

// Render chips
const sportsWrap = document.getElementById("sportsWrap");
sports.forEach(s=>{
  let chip=document.createElement("div"); chip.className="chip"; chip.textContent=s;
  chip.onclick=()=>chip.classList.toggle("active");
  sportsWrap.appendChild(chip);
});
const marketsWrap = document.getElementById("marketsWrap");
markets.forEach(m=>{
  let chip=document.createElement("div"); chip.className="chip"; chip.textContent=m;
  chip.onclick=()=>chip.classList.toggle("active");
  marketsWrap.appendChild(chip);
});

// Toggle filtros
document.getElementById("toggleFilters").onclick=()=>{
  const panel=document.getElementById("filtersPanel");
  panel.style.display=panel.style.display==="flex"?"none":"flex";
  panel.style.flexDirection="column";
}

// === BILHETE ===
const bilheteContainer=document.getElementById("bilheteContainer");
document.getElementById("generateBtn").onclick=()=>{
  bilheteContainer.innerHTML="";
  const qtd=Number(document.getElementById("qtd").value);
  const minOdd=Number(document.getElementById("minOdd").value);
  const maxOdd=Number(document.getElementById("maxOdd").value);
  const minPerc=Number(document.getElementById("minPercent").value);

  let filtered=palpites.filter(p=>p.odd>=minOdd && p.odd<=maxOdd && p.percent>=minPerc);
  const selectQtd=Math.min(qtd,filtered.length);
  let bilhete=[],oddTotal=1,greenTotal=0;
  for(let i=0;i<selectQtd;i++){
    const idx=Math.floor(Math.random()*filtered.length);
    const p=filtered.splice(idx,1)[0];
    bilhete.push(p);
    oddTotal*=p.odd;
    greenTotal+=p.percent;
  }

  const card=document.createElement("div"); card.className="card show";
  let content=`<h3>🎟️ Bilhete Gerado (${selectQtd} jogos)</h3>`;
  bilhete.forEach(p=>content+=`<div>⚽ ${p.jogo} — ${p.mercado} | Odd: ${p.odd} | ✅ ${p.percent}%</div>`);
  content+=`<div class="stats-line">💰 Odd Final: ${oddTotal.toFixed(2)} | 🌟 % Chance Média: ${(greenTotal/selectQtd).toFixed(1)}%</div>`;
  card.innerHTML=content;
  bilheteContainer.appendChild(card);
}

// === PIX ===
document.getElementById("pixBtn").onclick=()=>navigator.clipboard.writeText("geradordebilhete@gmail.com").then(()=>alert("E-mail doação Pix copiado!"));

// === ESTATÍSTICAS ===
const estatBtn=document.getElementById("estatBtn");
const estatModal=document.getElementById("estatModal");
const closeEstat=document.getElementById("closeEstat");
estatBtn.onclick=function(){
  let total=palpites.length;
  let avgOdd=(palpites.reduce((s,p)=>s+p.odd,0)/total).toFixed(2);
  estatContent.innerHTML=`<table style="width:100%;color:#fff;"><tr><th>Total Palpites</th><td>${total}</td></tr><tr><th>Odd Média</th><td>${avgOdd}</td></tr></table>`;
  estatModal.style.display="block";
}
closeEstat.onclick=()=>estatModal.style.display="none";
window.onclick=function(e){if(e.target===estatModal)estatModal.style.display="none";}
</script>

<footer>© 2025 Gerador de Bilhete Beta</footer>
</body>
</html>