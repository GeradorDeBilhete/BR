<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ðŸŽ¯ Gerador de Bilhete Profissional</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
body{margin:0;font-family:"Montserrat",sans-serif;background:#000;color:#f2f2f2;}
header{text-align:center;padding:20px;}
h1{color:#00ff88;font-size:28px;}
.wrap{max-width:1000px;margin:20px auto;padding:20px;background:#0b0b0b;border-radius:12px;}
button{background:#00ff88;color:#000;border:none;padding:10px 14px;border-radius:8px;cursor:pointer;font-weight:600;margin:4px;}
#bilheteContainer{margin-top:20px;display:flex;flex-direction:column;align-items:center;}
.card{background:#0f0f0f;padding:14px;border-radius:12px;border:2px solid rgba(0,255,136,0.3);margin-top:10px;width:80%;text-align:center;transition:all 0.5s ease;position:relative;opacity:0;transform:scale(0.8);}
.card.show{opacity:1;transform:scale(1.05);}
.stats-line{margin-top:8px;font-size:14px;color:#ccc;}
.chip{padding:6px 10px;border-radius:8px;border:1px solid #222;margin:3px;display:inline-block;cursor:pointer;}
.chip.active{background:#00ff88;color:#000;}
#filters{display:none;margin-top:10px;}
#stats{display:none;margin-top:20px;font-size:14px;color:#ccc;}
</style>
</head>
<body>

<header>
  <h1>ðŸŽ¯ Gerador de Bilhete Profissional</h1>
</header>

<div class="wrap">
  <div>
    <button id="toggleFilters">ðŸ“‚ Mostrar/Ocultar Filtros</button>
    <div id="filters">
      <div id="sportsWrap"></div>
      <div id="marketsWrap" style="margin-top:6px;"></div>
    </div>
  </div>

  <div style="margin-top:14px;">
    <button id="generateBtn">ðŸŽ² Gerar Bilhete</button>
  </div>

  <div id="bilheteContainer"></div>

  <div id="stats"></div>

  <div style="margin-top:20px;text-align:center;">
    <button id="pixBtn" style="background:#ffcc00;">ðŸ’° DoaÃ§Ã£o Pix</button>
  </div>
</div>

<script>
// ====== ConfiguraÃ§Ãµes ======
let palpites = []; // carregado do JSON
const sportsList = ["Futebol","Basquete","VÃ´lei","TÃªnis"];
const marketsList = ["Dupla Chance Casa","Dupla Chance Fora","Casa ou Empate","+0.5 gol casa","+1.5 gols","+2.5 gols","VitÃ³ria Casa","VitÃ³ria Fora","Ambas Marcam"];
let selectedSports = [];
let selectedMarkets = [];

// ====== Carregar palpites JSON ======
fetch('palpites.json')
  .then(res => res.json())
  .then(data=>{
    palpites = data;
    criarChips();
  })
  .catch(err=>console.error("Erro ao carregar palpites:", err));

// ====== Criar Chips de filtros ======
function criarChips(){
  const sportsWrap = document.getElementById('sportsWrap');
  sportsList.forEach(s=>{
    const chip = document.createElement('div');
    chip.textContent=s;
    chip.className='chip';
    chip.onclick=()=>{chip.classList.toggle('active'); atualizarFiltros();};
    sportsWrap.appendChild(chip);
  });

  const marketsWrap = document.getElementById('marketsWrap');
  marketsList.forEach(m=>{
    const chip = document.createElement('div');
    chip.textContent=m;
    chip.className='chip';
    chip.onclick=()=>{chip.classList.toggle('active'); atualizarFiltros();};
    marketsWrap.appendChild(chip);
  });
}

function atualizarFiltros(){
  selectedSports = Array.from(document.querySelectorAll('#sportsWrap .chip.active')).map(c=>c.textContent);
  selectedMarkets = Array.from(document.querySelectorAll('#marketsWrap .chip.active')).map(c=>c.textContent);
}

// ====== Gerar Bilhete ======
document.getElementById('generateBtn').onclick = ()=>{
  const container = document.getElementById('bilheteContainer');
  container.innerHTML='';
  let filtered = palpites.filter(p=>{
    let sportCheck = selectedSports.length ? selectedSports.includes(p.esporte) : true;
    let marketCheck = selectedMarkets.length ? selectedMarkets.includes(p.mercado) : true;
    return sportCheck && marketCheck;
  });
  if(filtered.length==0){alert("Nenhum palpite disponÃ­vel com os filtros."); return;}

  let oddTotal=1;
  let greenTotal=0;
  filtered.forEach((p,index)=>{
    oddTotal*=p.odd;
    greenTotal+=p.percent;
    const card = document.createElement('div');
    card.className='card';
    card.style.transitionDelay = `${index*0.1}s`;
    card.innerHTML=`<h3>ðŸŽ« ${p.jogo}</h3><div>${p.mercado} | Odd: ${p.odd} | % Green: ${p.percent}%</div>`;
    container.appendChild(card);
    setTimeout(()=>{card.classList.add('show');},50);
  });

  // Resumo com destaque
  const summary = document.createElement('div');
  summary.className='card';
  summary.style.border='2px solid #ff00ff';
  summary.innerHTML=`<h3>ðŸ“Š Resumo do Bilhete</h3>
                     <div class="stats-line">Odd Total: ${oddTotal.toFixed(2)}</div>
                     <div class="stats-line">% Chance MÃ©dia: ${(greenTotal/filtered.length).toFixed(1)}%</div>
                     <div class="stats-line">Risco Estimado: ${(100-(greenTotal/filtered.length)).toFixed(1)}%</div>`;
  container.appendChild(summary);
  setTimeout(()=>{summary.classList.add('show');},50);
};

// ====== Toggle Filtros ======
document.getElementById('toggleFilters').onclick = ()=>{
  const f = document.getElementById('filters');
  f.style.display = f.style.display==='none'?'block':'none';
};

// ====== Pix ======
document.getElementById('pixBtn').onclick = ()=>{
  navigator.clipboard.writeText("geradordebilhete@gmail.com");
  alert("E-mail do Pix copiado!");
};

<script src="script.js"></script>
</body>
</html>