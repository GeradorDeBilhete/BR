<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>🎯 Gerador de Bilhete 🎟️ Beta</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<style>
:root {
  --bg:#0a0a0a;
  --panel:#111;
  --card:#1a1a1a;
  --accent:#00ff88;
  --muted:#ccc;
  --danger:#ff4d4d;
}
*{box-sizing:border-box}
body{margin:0;font-family:"Montserrat",sans-serif;background:var(--bg);color:#fff;}
header{position:fixed;top:0;width:100%;background:var(--panel);padding:12px 0;text-align:center;box-shadow:0 4px 12px rgba(0,0,0,0.6);z-index:50;}
header h1{margin:0;font-weight:700;color:var(--accent);}
.wrap{max-width:950px;margin:90px auto 40px;padding:20px;background:var(--panel);border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,0.5);}
.controls{display:flex;flex-wrap:wrap;gap:12px;justify-content:center;}
.controls label, .controls input{margin-bottom:6px;}
select,input[type=number]{padding:10px;border-radius:8px;border:1px solid #222;background:#111;color:#fff;}
.chip{padding:8px 12px;border-radius:10px;background:#111;border:1px solid #222;color:#ccc;cursor:pointer;transition:all 0.2s;}
.chip.active{background:var(--accent);color:#000;transform:scale(1.05);box-shadow:0 4px 12px rgba(0,255,136,0.3);}
.actions{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin-top:12px;}
button.btn{padding:10px 16px;border-radius:10px;border:none;background:var(--accent);color:#000;font-weight:600;cursor:pointer;transition:0.2s;}
button.btn:hover{opacity:0.9;}
#bilheteContainer{margin-top:20px;display:flex;flex-direction:column;align-items:center;gap:12px;}
.card{background:var(--card);border:1px solid rgba(0,255,136,0.2);padding:16px;border-radius:12px;width:100%;max-width:600px;opacity:0;transform:translateY(20px);transition:all 0.5s cubic-bezier(.2,.9,.3,1);}
.card.show{opacity:1;transform:translateY(0);}
.card h3{margin:0 0 8px;color:var(--accent);}
.meta{font-size:14px;color:var(--muted);margin-top:6px;}
.stat-green{color:var(--accent);}
.stat-yellow{color:#ffcc00;}
.stat-red{color:var(--danger);}
#loginOverlay{position:fixed;inset:0;background:rgba(0,0,0,0.95);display:flex;justify-content:center;align-items:center;z-index:1000;}
#loginBox{background:#111;padding:28px;border-radius:12px;text-align:center;max-width:400px;width:100%;}
#loginBox input{padding:12px;border-radius:8px;border:1px solid #222;width:100%;margin-bottom:12px;background:#222;color:#fff;}
#loginBox button{padding:12px 16px;border-radius:8px;border:none;background:var(--accent);color:#000;font-weight:600;cursor:pointer;}
#pixBtn{margin-top:20px;width:100%;max-width:600px;}
.searchBox{margin:12px 0;text-align:center;}
.searchBox input{width:200px;padding:8px;border-radius:8px;border:1px solid #222;background:#111;color:#fff;}
</style>
</head>
<body>

<div id="loginOverlay">
  <div id="loginBox">
    <h2>🎯 Gerador de Bilhete Beta</h2>
    <input id="loginCode" placeholder="Digite seu código">
    <button id="loginBtn">Entrar</button>
    <div id="loginMsg" style="color:#f33;margin-top:6px;font-size:13px"></div>
  </div>
</div>

<header>
  <h1>🎯 Gerador de Bilhete</h1>
</header>

<div class="wrap">
  <div class="controls">
    <label>Quantidade de Jogos<input id="qtd" type="number" min="1" value="3"></label>
    <label>Odd mínima<input id="minOdd" type="number" step="0.01" value="1.2"></label>
    <label>Odd máxima<input id="maxOdd" type="number" step="0.01" value="2.5"></label>
    <label>% mínimo de acerto<input id="minPercent" type="number" step="1" value="50"></label>
  </div>

  <div id="generateBtnWrapper" style="text-align:center;margin-top:12px;">
    <button id="generateBtn" class="btn">🎲 Gerar Bilhete</button>
  </div>

  <div class="actions">
    <button id="estatBtn" class="btn">📊 Estatísticas</button>
    <button id="copiarBtn" class="btn">📋 Copiar</button>
    <button id="pdfBtn" class="btn">💾 PDF</button>
  </div>

  <div class="searchBox">
    <input id="searchInput" placeholder="Buscar palpites...">
  </div>

  <div id="bilheteContainer"></div>

  <button id="pixBtn" class="btn">Pix e-mail: geradordebilhete@gmail.com — Clique para copiar</button>
</div>

<!-- Modal Estatísticas -->
<div id="estatModal" class="modal" aria-hidden="true">
  <div class="panel" style="max-width:600px;margin:60px auto;padding:16px;background:#111;border-radius:12px;">
    <button id="closeEstat" style="float:right;background:var(--accent);border:none;padding:8px 10px;border-radius:8px;cursor:pointer;">Fechar</button>
    <h2>📊 Estatísticas do Gerador</h2>
    <div id="estatContent" style="margin-top:8px"></div>
  </div>
</div>

<script>
// ============ LOGIN ===========
const loginCodes = [
  {code:"082111", tipo:"adm", usado:false, expira:null}, // admin, ilimitado

  // 25 códigos de teste (24h)
  {code:"153947", tipo:"teste", usado:false, expira:Date.now()+24*60*60*1000},
  {code:"469283", tipo:"teste", usado:false, expira:Date.now()+24*60*60*1000},
  {code:"582914", tipo:"teste", usado:false, expira:Date.now()+24*60*60*1000},
  {code:"730192", tipo:"teste", usado:false, expira:Date.now()+24*60*60*1000},
  {code:"918374", tipo:"teste", usado:false, expira:Date.now()+24*60*60*1000},
  {code:"264839", tipo:"teste", usado:false, expira:Date.now()+24*60*60*1000},
  {code:"105937", tipo:"teste", usado:false, expira:Date.now()+24*60*60*1000},
  {code:"849102", tipo:"teste", usado:false, expira:Date.now()+24*60*60*1000},
  {code:"372918", tipo:"teste", usado:false, expira:Date.now()+24*60*60*1000},
  {code:"691274", tipo:"teste", usado:false, expira:Date.now()+24*60*60*1000},
  {code:"487120", tipo:"teste", usado:false, expira:Date.now()+24*60*60*1000},
  {code:"293847", tipo:"teste", usado:false, expira:Date.now()+24*60*60*1000},
  {code:"109283", tipo:"teste", usado:false, expira:Date.now()+24*60*60*1000},
  {code:"564738", tipo:"teste", usado:false, expira:Date.now()+24*60*60*1000},
  {code:"748291", tipo:"teste", usado:false, expira:Date.now()+24*60*60*1000},
  {code:"831029", tipo:"teste", usado:false, expira:Date.now()+24*60*60*1000},
  {code:"912837", tipo:"teste", usado:false, expira:Date.now()+24*60*60*1000},
  {code:"374920", tipo:"teste", usado:false, expira:Date.now()+24*60*60*1000},
  {code:"210948", tipo:"teste", usado:false, expira:Date.now()+24*60*60*1000},
  {code:"495861", tipo:"teste", usado:false, expira:Date.now()+24*60*60*1000},
  {code:"608472", tipo:"teste", usado:false, expira:Date.now()+24*60*60*1000},
  {code:"731095", tipo:"teste", usado:false, expira:Date.now()+24*60*60*1000},
  {code:"984612", tipo:"teste", usado:false, expira:Date.now()+24*60*60*1000},
  {code:"250913", tipo:"teste", usado:false, expira:Date.now()+24*60*60*1000},
  {code:"847209", tipo:"teste", usado:false, expira:Date.now()+24*60*60*1000},

  // 25 códigos de 30 dias
  {code:"193847", tipo:"30dias", usado:false, expira:Date.now()+30*24*60*60*1000},
  {code:"274910", tipo:"30dias", usado:false, expira:Date.now()+30*24*60*60*1000},
  {code:"385902", tipo:"30dias", usado:false, expira:Date.now()+30*24*60*60*1000},
  {code:"496183", tipo:"30dias", usado:false, expira:Date.now()+30*24*60*60*1000},
  {code:"517294", tipo:"30dias", usado:false, expira:Date.now()+30*24*60*60*1000},
  {code:"628475", tipo:"30dias", usado:false, expira:Date.now()+30*24*60*60*1000},
  {code:"739516", tipo:"30dias", usado:false, expira:Date.now()+30*24*60*60*1000},
  {code:"841627", tipo:"30dias", usado:false, expira:Date.now()+30*24*60*60*1000},
  {code:"952738", tipo:"30dias", usado:false, expira:Date.now()+30*24*60*60*1000},
  {code:"163849", tipo:"30dias", usado:false, expira:Date.now()+30*24*60*60*1000},
  {code:"274950", tipo:"30dias", usado:false, expira:Date.now()+30*24*60*60*1000},
  {code:"385061", tipo:"30dias", usado:false, expira:Date.now()+30*24*60*60*1000},
  {code:"496172", tipo:"30dias", usado:false, expira:Date.now()+30*24*60*60*1000},
  {code:"517283", tipo:"30dias", usado:false, expira:Date.now()+30*24*60*60*1000},
  {code:"628374", tipo:"30dias", usado:false, expira:Date.now()+30*24*60*60*1000},
  {code:"739165", tipo:"30dias", usado:false, expira:Date.now()+30*24*60*60*1000},
  {code:"841276", tipo:"30dias", usado:false, expira:Date.now()+30*24*60*60*1000},
  {code:"952387", tipo:"30dias", usado:false, expira:Date.now()+30*24*60*60*1000},
  {code:"163498", tipo:"30dias", usado:false, expira:Date.now()+30*24*60*60*1000},
  {code:"274519", tipo:"30dias", usado:false, expira:Date.now()+30*24*60*60*1000},
  {code:"385620", tipo:"30dias", usado:false, expira:Date.now()+30*24*60*60*1000},
  {code:"496731", tipo:"30dias", usado:false, expira:Date.now()+30*24*60*60*1000},
  {code:"517842", tipo:"30dias", usado:false, expira:Date.now()+30*24*60*60*1000},
  {code:"628953", tipo:"30dias", usado:false, expira:Date.now()+30*24*60*60*1000},
  {code:"739064", tipo:"30dias", usado:false, expira:Date.now()+30*24*60*60*1000}
];
}
const loginOverlay=document.getElementById("loginOverlay");
const loginInput=document.getElementById("loginCode");
const loginBtn=document.getElementById("loginBtn");
const loginMsg=document.getElementById("loginMsg");
function saveLogin(code){localStorage.setItem("loginCode",code);}
function checkLogin(){
  let code=localStorage.getItem("loginCode");
  if(!code)return;
  let user=loginCodes.find(c=>c.code===code);
  if(user&&(!user.usado||user.tipo==="adm"))loginOverlay.style.display="none";
}
loginBtn.onclick=function(){
  let val=loginInput.value.trim();
  let user=loginCodes.find(c=>c.code===val);
  if(!user){loginMsg.textContent="Código inválido";return;}
  if(user.usado&&user.tipo!=="adm"){loginMsg.textContent="Código já usado";return;}
  if(user.expira&&Date.now()>user.expira){loginMsg.textContent="Código expirado";return;}
  if(user.tipo!=="adm")user.usado=true;
  saveLogin(val);
  loginOverlay.style.display="none";
}
checkLogin();

// ============ PALPITES ===========
const palpites=[ /* lista de 50 palpites aqui */ ];

// ============ ESPORTES E MERCADOS ===========
const sports=["Futebol","Basquete","Vôlei","Tênis"];
const markets=["Dupla Chance Casa","Dupla Chance Fora","Casa ou Empate","+1.5 gols","+2.5 gols","+0.5 gols 1T","Vitória Casa","Vitória Fora","Ambas Marcam","+0.5 gol cada"];
const sportsWrap=document.createElement("div");
sports.forEach(s=>{
  let chip=document.createElement("div");chip.textContent=s;chip.className="chip";chip.onclick=()=>chip.classList.toggle("active");document.body.appendChild(chip);
});
const marketsWrap=document.createElement("div");
markets.forEach(m=>{
  let chip=document.createElement("div");chip.textContent=m;chip.className="chip";chip.onclick=()=>chip.classList.toggle("active");document.body.appendChild(chip);
});

// ============ BILHETE ===========
const bilheteContainer=document.getElementById("bilheteContainer");
const generateBtn=document.getElementById("generateBtn");
const qtdInput=document.getElementById("qtd");
const minOddInput=document.getElementById("minOdd");
const maxOddInput=document.getElementById("maxOdd");
const minPercentInput=document.getElementById("minPercent");
function gerarBilhete(){
  bilheteContainer.innerHTML="";
  let qtd=Number(qtdInput.value);
  let minOdd=Number(minOddInput.value);
  let maxOdd=Number(maxOddInput.value);
  let minPerc=Number(minPercentInput.value);
  let bilhete=[];
  let oddTotal=1;
  let greenTotal=0;
  let filtered=palpites.filter(p=>p.odd>=minOdd&&p.odd<=maxOdd&&p.percent>=minPerc);
  if(filtered.length<qtd)qtd=filtered.length;
  for(let i=0;i<qtd;i++){
    let idx=Math.floor(Math.random()*filtered.length);
    let p=filtered.splice(idx,1)[0];
    bilhete.push(p);
    oddTotal*=p.odd;
    greenTotal+=p.percent;
  }
  let card=document.createElement("div");
  card.className="card show";
  let content=`<h3>Bilhete Gerado (${qtd} jogos)</h3>`;
  bilhete.forEach(p=>{content+=`<div>${p.jogo} — ${p.mercado} | Odd: ${p.odd} | % Green: ${p.percent}%</div>`});
  content+=`<div class="meta">Odd Final: ${oddTotal.toFixed(2)} | % Green Médio: ${(greenTotal/qtd).toFixed(1)}%</div>`;
  card.innerHTML=content;
  bilheteContainer.appendChild(card);
}
generateBtn.onclick=gerarBilhete;

// ============ PIX ===========
const pixBtn=document.getElementById("pixBtn");
pixBtn.onclick=()=>navigator.clipboard.writeText("geradordebilhete@gmail.com").then(()=>alert("E-mail copiado!"));

// ============ ESTATÍSTICAS ===========
const estatBtn=document.getElementById("estatBtn");
const estatModal=document.getElementById("estatModal");
const closeEstat=document.getElementById("closeEstat");
const estatContent=document.getElementById("estatContent");
estatBtn.onclick=function(){
  let totalJogos=palpites.length;
  let oddSum=palpites.reduce((s,p)=>s+p.odd,0);
  let avgOdd=(oddSum/totalJogos).toFixed(2);
  estatContent.innerHTML=`<table style="width:100%;color:#ccc;"><tr><th>Total de Palpites</th><td>${totalJogos}</td></tr><tr><th>Odd Média</th><td>${avgOdd}</td></tr></table>`;
  estatModal.style.display="block";
}
closeEstat.onclick=()=>estatModal.style.display="none";
window.onclick=function(e){if(e.target===estatModal)estatModal.style.display="none";}

// ============ BUSCA RÁPIDA ===========
const searchInput=document.getElementById("searchInput");
searchInput.addEventListener("input",()=>{ 
  const term=searchInput.value.toLowerCase(); 
  palpites.forEach(p=>{
    p.visible=p.jogo.toLowerCase().includes(term)||p.mercado.toLowerCase().includes(term);
  });
});
</script>

</body>
</html>